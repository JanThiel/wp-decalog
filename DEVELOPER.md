# Developing for DecaLog

Before starting to explain how to use DecaLog from a developer point of view, I would like to thank you to take the time to invest your knowledge and skills in making DecaLog better and more useful. I'll only have one word: you rock! (OK, that's two words)

Now, what's the menu today?

1. [What is DecaLog?](#what-is-decalog)
2. [Definitions](#definitions)
3. [Architecture of DecaLog](#architecture-of-decalog)
4. [Anatomy of an event](#anatomy-of-an-event)
5. [Coding with DecaLog](#coding-with-decalog)
6. [Conventions](#conventions)
7. [Contribution Guidelines](/CONTRIBUTING.md)
8. [Code of Conduct](/CODE_OF_CONDUCT.md)

## What is DecaLog?
DecaLog is WordPress plugin which aims to:
- capture events generated by the core of WordPress and themes / plugins;
- enrich these events with many details regarding their triggering;
- record these events in the WordPress database and/or send them to external services for logging, monitoring and alerting;
- view (and filter) events recorded in the WordPress database.

## Definitions
When using (and developing for) DecaLog, you will have to deal with the following notions:
- __Event__ - An event is some bits of information regarding something which hapened while executing WordPress. See [Anatomy of an event](#anatomy-of-an-event) to know what it's made of.
- __Listener__ - A listener is, as its name suggests, something that listens to what's going on in a specific _perimeter_ (mainly a specific WordPress component or subsystem), make it an ___event___ and pass this ___event___ to the running ___loggers___.
- __Logger__ - A logger is a _recorder_ of events. It can filter them (accept or refuse to record the event based on settings) then store them (in a database, a file, etc.) or send them (via API calls, sockets, mails, etc.).

## Architecture of DecaLog

## Anatomy of an event
An ___event___ is composed of:
- A __channel__, which is the type of execution that triggered the event. It is automatically detected (and filled) by DecaLog and it can take the following values: `CLI` (command-line interface), `CRON` (cron job), `AJAX` (Ajax request), `XMLRPC` (XML-RPC request), `API` (Rest API request), `FEED` (Atom/RDF/RSS feed), `WBACK` (site backend), `WFRONT` (site frontend).
- A __level__, which represents the severity of the event. This level is set by the listener, regarding what triggered the event. It can take the following values (from the lowest severity to the highest): `DEBUG`, `INFO`, `NOTICE`, `WARNING`, `ERROR`, `CRITICAL`, `ALERT`, `EMERGENCY`. For a detail on how it is used, please read "Events standards" in [Conventions](#conventions).
- A __timestamp__, which is the time when event was triggered.
- A versioned __source__, which is the component or the subsystem where the event is triggered. It maybe things like `PHP`/`7.2` or `WordPress`/`5.2.2` and so on...
- The __class__ of the source, which can take the following values: `core`, `plugin`, `theme`, `db`, `php`.
- A __message__ in plain text.
- An numerical __code__, which may be everything which makes sense regarding the event (an error code, for instance).

Depending on each loggers settings, an ___event___ may contains many other fields which are automaticaly detected and filled by DecaLog.


## Coding with DecaLog
In fact, as a developer, you will have to deal only with ___level__, ___message___ and ___code___. All other fields of the event is handled by DecaLog.

### Simple usage

### Writing a listener

## Conventions

### General rules

### Events standards

### Privacy

### Coding style
